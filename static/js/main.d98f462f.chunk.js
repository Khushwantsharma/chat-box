(this.webpackJsonpmyreact=this.webpackJsonpmyreact||[]).push([[0],{39:function(e,n,s){},40:function(e,n,s){},73:function(e,n,s){"use strict";s.r(n);var t=s(1),a=s.n(t),c=s(32),i=s.n(c),r=(s(39),s(34)),l=s(7),o=(s(40),s(0)),m=s(33),u=Object(m.io)("http://localhost:3001",{autoConnect:!1}),j=void 0,d=function(){var e=Object(t.useRef)(),n=Object(t.useState)([]),s=Object(l.a)(n,2),a=s[0],c=s[1],i=Object(t.useState)({name:"",index:-1,isSet:!1}),m=Object(l.a)(i,2),d=m[0],b=m[1],h=Object(t.useState)(""),f=Object(l.a)(h,2),v=f[0],g=f[1],O=Object(t.useState)({name:"",isSet:!1}),x=Object(l.a)(O,2),N=x[0],p=x[1],S=Object(t.useState)([]),M=Object(l.a)(S,2),C=M[0],y=M[1];Object(t.useEffect)((function(){u.onAny((function(e){for(var n=arguments.length,s=new Array(n>1?n-1:0),t=1;t<n;t++)s[t-1]=arguments[t];console.log(e,s)})),u.on("users",(function(e){0==e.length||(y((function(n){var s=n.slice();return e.forEach((function(e){s.push({name:e.name,message:[],online:e.online})})),console.log(s),s})),c((function(n){var s=n.slice();return e.forEach((function(e){s.push(Object(o.jsx)("div",{onClick:E.bind(j,e.name),className:e.online?"username--active":"username",children:e.name},e.name))})),s})))})),u.on("new-user",(function(e){y((function(n){var s;return console.log("prevstate:",n),(s=n?n.slice():[]).push({name:e.name,message:[],online:e.online}),s})),c((function(n){var s=n.slice();return s.push(Object(o.jsx)("div",{onClick:E.bind(j,e.name),className:e.online?"username--active":"username",children:e.name},e.name)),s}))})),u.on("offline",(function(e){c((function(n){for(var s=n.slice(),t=0;t<s.length;t++)s[t].key==e&&(s[t]=Object(o.jsx)("div",{onClick:E.bind(j,e),className:"username",children:e},e),console.log(s[t]));return s}))})),u.on("online",(function(e){c((function(n){for(var s=n.slice(),t=0;t<s.length;t++)s[t].key==e&&(s[t]=Object(o.jsx)("div",{onClick:E.bind(j,e),className:"username--active",children:e},e),console.log(s[t]));return s}))})),u.on("private-message",(function(e,n){y((function(s){for(var t,a=s.slice(),c=0;c<a.length;c++)n==a[c].name&&(t=c);var i=a[t].message;return i.push({mes:e,ismine:!1}),a[t].message=i,a}))}))}),[]),Object(t.useEffect)((function(){""!=v&&b((function(e){var n=Object(r.a)({},e);if(C){n.name=v,n.isSet=!0;for(var s=0;s<C.length;s++)if(v==C[s].name){n.index=s;break}}return n}))}),[v]),Object(t.useEffect)((function(){e.current&&e.current.scrollIntoView({smooth:!0})}),[e.current]);var k,E=function(e){console.log("[Activeusersetter]",e),g(e)};return N.isSet?(d.isSet&&C&&(k=C[d.index].message.map((function(n,s){var t=s==C[d.index].message.length-1;return Object(o.jsxs)("div",{ref:t?e:null,className:n.ismine?"Message--main":"Message--oth",children:[Object(o.jsx)("div",{className:"Message--main--content",children:n.mes}),Object(o.jsx)("div",{className:"Message--main--time",children:"12:00 pm"})]})}))),Object(o.jsxs)("div",{className:"App",children:[Object(o.jsx)("div",{className:"title",children:"Chat-System"}),Object(o.jsxs)("div",{className:"Main--box",children:[Object(o.jsxs)("div",{className:"Main--box--users",children:[Object(o.jsx)("div",{className:"title",children:"Users"}),a]}),Object(o.jsxs)("div",{className:"Main--box--chat",children:[Object(o.jsxs)("div",{className:"title",children:["Chat Messages ",d.isSet?d.name:null]}),Object(o.jsx)("div",{className:"Main--box--chat--messagearea",children:d.isSet?k:Object(o.jsxs)("div",{className:"Message--main ",children:[Object(o.jsx)("div",{className:"Message--main--content",children:"START TALKING"}),Object(o.jsx)("div",{className:"Message--main--time",children:"12:00 am"})]})}),d.isSet?Object(o.jsx)("div",{className:"c",children:Object(o.jsxs)("form",{className:"cb--bind",onSubmit:function(e){e.preventDefault();var n=e.target.mes.value;console.log(n),u.emit("private-message",n,d.name),y((function(e){var s=e.slice(),t=s[d.index].message.slice();return t.push({mes:n,ismine:!0}),s[d.index].message=t,s}))},children:[Object(o.jsx)("input",{className:"text--area",type:"text",id:"mes",name:"mes",required:!0}),Object(o.jsx)("button",{classes:"button--height text--bold",children:"Enter"})]})}):null]})]})]})):Object(o.jsx)("div",{className:"Username--main",children:Object(o.jsxs)("form",{className:"Username--form",onSubmit:function(e){console.log("[userNameDone]: Called"),e.preventDefault(),p({name:N.name,isSet:!0}),u.auth={username:N.name},u.connect()},children:[Object(o.jsx)("label",{for:"em",children:"UserName(Email):"}),Object(o.jsx)("input",{className:"text--area",type:"email",id:"em",onChange:function(e){p({name:e.target.value,isSet:!1})},name:"mes",required:!0}),Object(o.jsx)("button",{classes:"button--height text--bold",children:"Enter"})]})})},b=function(e){e&&e instanceof Function&&s.e(3).then(s.bind(null,74)).then((function(n){var s=n.getCLS,t=n.getFID,a=n.getFCP,c=n.getLCP,i=n.getTTFB;s(e),t(e),a(e),c(e),i(e)}))};i.a.render(Object(o.jsx)(a.a.StrictMode,{children:Object(o.jsx)(d,{})}),document.getElementById("root")),b()}},[[73,1,2]]]);
//# sourceMappingURL=main.d98f462f.chunk.js.map